{"version":3,"sources":["Components/photoContainer.js","Components/NotFound.js","Components/Photo.js","Components/Error.js","Components/Nav.js","Components/SearchForm.js","Components/Render.js","Components/SearchRequest.js","Components/App.js","config.js","index.js"],"names":["PhotoContainer","props","src","server","id","secret","alt","NotFound","className","Photo","photos","results","data","length","map","photo","Error","Nav","to","SearchForm","handleSubmit","e","preventDefault","submit","query","value","change","history","push","currentTarget","reset","onSubmit","this","type","ref","input","placeholder","required","fill","height","viewBox","width","xmlns","d","Component","withRouter","Render","onSearch","prevProps","SearchRequest","match","params","url","requestCats","axios","get","requestDogs","requestComputers","App","dataCall","all","then","spread","responses","setState","cats","dogs","computers","loading","catch","err","console","log","performSearch","response","error","handleChange","state","exact","path","render","component","ReactDOM","document","getElementById"],"mappings":"gPASeA,EANQ,SAACC,GAAD,OACjB,6BACE,qBAAKC,IAAG,wCAAmCD,EAAME,OAAzC,YAAmDF,EAAMG,GAAzD,YAA+DH,EAAMI,OAArE,QAAmFC,IAAI,QCKxFC,EAPE,kBACb,qBAAIC,UAAU,YAAd,UACI,kDACA,6FCwBOC,EAzBD,SAACR,GAEb,IACIS,EADEC,EAAUV,EAAMW,KAatB,OATEF,EADEC,EAAQE,OAAS,EACVF,EAAQG,KAAK,SAAAC,GAAK,OAAI,cAAC,EAAD,CAAgBZ,OAAQY,EAAMZ,OACvBC,GAAIW,EAAMX,GACVC,OAAQU,EAAMV,QACTU,EAAMX,OAGxC,cAAC,EAAD,IAIT,sBAAKI,UAAU,kBAAf,UACE,+BAAKP,EAAMU,QAAX,cACA,6BACGD,QCdMM,EAPD,kBACZ,sBAAKR,UAAU,eAAf,UACE,mBAAGA,UAAU,2BAAb,2BACA,oDCUWS,EAZH,kBACV,8BACE,qBAAKT,UAAU,WAAf,SACE,+BACE,6BAAI,cAAC,IAAD,CAASU,GAAG,QAAZ,oBACJ,6BAAI,cAAC,IAAD,CAASA,GAAG,QAAZ,oBACJ,6BAAI,cAAC,IAAD,CAASA,GAAG,aAAZ,iCCLNC,E,4MAEFC,aAAe,SAACC,GACZA,EAAEC,iBACF,EAAKrB,MAAMsB,OAAO,EAAKC,MAAMC,OAC7B,EAAKxB,MAAMyB,SACX,EAAKzB,MAAM0B,QAAQC,KAAnB,kBAAmC,EAAKJ,MAAMC,QAC9CJ,EAAEQ,cAAcC,S,4CAGpB,WAAW,IAAD,OACN,OACI,sBAAKtB,UAAU,YAAf,UACI,uBAAMA,UAAU,cAAcuB,SAAUC,KAAKZ,aAA7C,UACA,uBAAOa,KAAK,SAASC,IAAK,SAACC,GAAD,OAAW,EAAKX,MAAQW,GAAOC,YAAY,SAASC,UAAQ,IAClF,wBAAQJ,KAAK,SAASzB,UAAU,gBAAhC,SACI,sBAAK8B,KAAK,OAAOC,OAAO,KAAKC,QAAQ,YAAYC,MAAM,KAAKC,MAAM,6BAAlE,UACI,sBAAMC,EAAE,+OACR,sBAAMA,EAAE,gBAAgBL,KAAK,iBAIzC,cAAC,EAAD,W,GAtBSM,aA4BVC,cAAW1B,GC5BpB2B,E,uKAEF,WACId,KAAK/B,MAAM8C,SAASf,KAAK/B,MAAMuB,S,gCAGnC,SAAmBwB,GACZA,EAAUxB,QAAUQ,KAAK/B,MAAMuB,OAChCQ,KAAK/B,MAAM8C,SAASf,KAAK/B,MAAMuB,S,oBAIrC,WACI,OACI,cAAC,EAAD,CAAOZ,KAAMoB,KAAK/B,MAAMW,KAAKF,a,GAdpBkC,aAmBNC,cAAWC,GCnBpBG,E,4JAEF,WAAU,IAAD,OACL,OACI,cAAC,EAAD,CAAQF,SAAU,SAAAvB,GAAK,OAAI,EAAKvB,MAAM8C,SAASvB,IAAQA,MAAOQ,KAAK/B,MAAMiD,MAAMC,OAAO3B,MAAOZ,KAAMoB,KAAK/B,MAAMW,W,GAJ9FgC,aASbC,cAAWI,GCCpBG,EAAG,oFCfM,mCDeN,UACLC,EAAcC,IAAMC,IAAN,iKACdC,EAAcF,IAAMC,IAAN,iKACdE,EAAmBH,IAAMC,IAAN,sKA6FRG,E,kDAzFb,aAAe,IAAD,8BACZ,gBAkBFC,SAAW,WACTL,IAAMM,IAAI,CAACP,EAAaG,EAAaC,IAAmBI,KAAKP,IAAMQ,QAAO,WAAmB,IAAD,uBAAdC,EAAc,yBAAdA,EAAc,gBAC1F,EAAKC,SAAS,CACZC,KAAMF,EAAU,GAAGnD,KAAKF,OAAOK,MAC/BmD,KAAMH,EAAU,GAAGnD,KAAKF,OAAOK,MAC/BoD,UAAWJ,EAAU,GAAGnD,KAAKF,OAAOK,MACpCqD,SAAS,QAETC,OAAM,SAAAC,GACRC,QAAQC,IAAI,kCAAmCF,OA5BrC,EAiCdG,cAAgB,WAAmB,IAAlBjD,EAAiB,uDAAT,KACvB8B,IAAMC,IAAN,UAAaH,GAAb,OAAmB5B,EAAnB,8CACGqC,MAAK,SAAAa,GACJ,EAAKV,SAAS,CACZtD,OAAQgE,EAAS9D,KAAKF,OAAOK,MAC7BqD,SAAS,OAGZC,OAAM,SAAAM,GACLJ,QAAQC,IAAI,kCAAmCG,OA1CvC,EA8CdC,aAAe,WACb,EAAKZ,SAAU,CACbI,SAAS,KA9CX,EAAKS,MAAQ,CACXnE,OAAQ,GACRuD,KAAM,GACNC,KAAM,GACNC,UAAW,GACXC,SAAS,GAPC,E,qDAYd,WACEpC,KAAK2B,WACL3B,KAAKyC,kB,oBAsCP,WAAU,IAAD,OAEP,OACE,qBAAKjE,UAAU,eAAf,SAGGwB,KAAK6C,MAAMT,QACV,2CAEF,eAAC,IAAD,WAGE,cAAC,EAAD,CAAY7C,OAAQS,KAAKyC,cAAe/C,OAAQM,KAAK4C,eAGrD,eAAC,IAAD,WAEE,cAAC,IAAD,CAAOE,OAAK,EAACC,KAAK,IAAIC,OAAS,kBAAM,cAAC,EAAD,CAAOpE,KAAM,EAAKiE,MAAMnE,YAC7D,cAAC,IAAD,CAAOoE,OAAK,EAACC,KAAK,QAAQC,OAAS,kBAAM,cAAC,EAAD,CAAOpE,KAAM,EAAKiE,MAAMZ,KAAMtD,QAAQ,YAC/E,cAAC,IAAD,CAAOmE,OAAK,EAACC,KAAK,QAAQC,OAAS,kBAAM,cAAC,EAAD,CAAOpE,KAAM,EAAKiE,MAAMX,KAAMvD,QAAQ,YAC/E,cAAC,IAAD,CAAOmE,OAAK,EAACC,KAAK,aAAaC,OAAS,kBAAM,cAAC,EAAD,CAAOpE,KAAM,EAAKiE,MAAMV,UAAWxD,QAAQ,iBAGzF,cAAC,IAAD,CAAOoE,KAAK,iBAAiBC,OAAS,kBAAM,cAAC,EAAD,CAAepE,KAAM,EAAKiE,MAAO9B,SAAU,SAAAvB,GAAK,OAAI,EAAKiD,cAAcjD,SAGnH,cAAC,IAAD,CAAOyD,UAAWjE,gB,GAhFZ4B,a,MEflBsC,IAASF,OACL,cAAC,EAAD,IACAG,SAASC,eAAe,W","file":"static/js/main.66c977e2.chunk.js","sourcesContent":["import React from 'react';\n\n//Component to wrap each photo\nconst PhotoContainer = (props) => (\n      <li>\n        <img src={`https://live.staticflickr.com/${props.server}/${props.id}_${props.secret}.jpg`} alt=\"\" />\n      </li>\n);\n\nexport default PhotoContainer;\n","import React from 'react';\r\n\r\n//Component that display a message to the user when there are not results.\r\nconst NotFound = () => (\r\n    <li className=\"not-found\">\r\n        <h3>No Results Found</h3>\r\n        <p>You search did not return any results. Please try again.</p>\r\n    </li>\r\n);\r\n\r\nexport default NotFound;","import React from 'react';\r\nimport PhotoContainer from './photoContainer';\r\nimport NotFound from './NotFound';\r\n\r\n//Component to display the photos.\r\nconst Photo = (props) => {\r\n\r\n  const results = props.data;\r\n  let photos;\r\n\r\n  if (results.length > 0) {\r\n    photos = results.map( photo => <PhotoContainer server={photo.server}\r\n                                          id={photo.id}\r\n                                          secret={photo.secret}\r\n                                          key={photo.id} />\r\n    );\r\n  } else {\r\n    photos = <NotFound />;\r\n  };\r\n\r\n  return (\r\n    <div className=\"photo-container\">\r\n      <h2>{props.results} Results</h2>\r\n      <ul>\r\n        {photos}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Photo;\r\n","import React from 'react';\r\n\r\n//Component that display a \"Page Not Found\"\r\nconst Error = () => (\r\n  <div className=\"main-content\">\r\n    <i className=\"material-icons icn-error\">error_outline</i>\r\n    <h2>Page Not Found</h2>\r\n  </div>\r\n);\r\n\r\nexport default Error;","import React from 'react';\r\nimport { NavLink }from 'react-router-dom';\r\n\r\n//Component to navigate between 3 default topics.\r\nconst Nav = () => (\r\n  <div>\r\n    <nav className=\"main-nav\">\r\n      <ul>\r\n        <li><NavLink to='/cats'>Cats</NavLink></li>\r\n        <li><NavLink to='/dogs'>Dogs</NavLink></li>\r\n        <li><NavLink to='/computers'>Computers</NavLink></li>\r\n      </ul>\r\n    </nav>\r\n  </div>\r\n);\r\n\r\nexport default Nav;","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router'\r\nimport Nav from './Nav';\r\n\r\n//Component to push the search request to history.\r\nclass SearchForm extends Component {\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.props.submit(this.query.value);\r\n        this.props.change()\r\n        this.props.history.push(`/search/${this.query.value}`);\r\n        e.currentTarget.reset();\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <div className=\"container\">\r\n                <form className=\"search-form\" onSubmit={this.handleSubmit} >\r\n                <input type=\"search\" ref={(input) => this.query = input} placeholder=\"Search\" required/>\r\n                    <button type=\"submit\" className=\"search-button\">\r\n                        <svg fill=\"#fff\" height=\"24\" viewBox=\"0 0 23 23\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                            <path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"/>\r\n                            <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\r\n                        </svg>\r\n                    </button>\r\n                </form>\r\n                <Nav />\r\n            </div>\r\n        );\r\n    };\r\n}; \r\n\r\nexport default withRouter(SearchForm);","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router'\r\nimport Photo from './Photo'\r\n\r\n//Component that display the data with the current query.\r\nclass Render extends Component {\r\n\r\n    componentDidMount() {\r\n        this.props.onSearch(this.props.query)\r\n    };\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if(prevProps.query !== this.props.query) {\r\n          this.props.onSearch(this.props.query);\r\n        };\r\n      };\r\n    \r\n    render() {\r\n        return (\r\n            <Photo data={this.props.data.photos}/>\r\n        );\r\n    };\r\n};\r\n\r\nexport default withRouter(Render);","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router'\r\nimport Render from './Render'\r\n\r\n//Component that maintain the query parameter updated.\r\nclass SearchRequest extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <Render onSearch={query => this.props.onSearch(query)} query={this.props.match.params.query} data={this.props.data}/>\r\n        );\r\n    };\r\n};\r\n\r\nexport default withRouter(SearchRequest);","/** React-Gallery-App */\n\nimport React, { Component } from 'react';\nimport apiKey from '../config.js';\nimport axios from 'axios';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\n\n//App components\nimport Photo from './Photo';\nimport Error from './Error';\nimport SearchForm from './SearchForm';\nimport SearchRequest from './SearchRequest'\n\n//The api key and the API requests\nconst key = apiKey;\nconst url = `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=${key}&tags=`\nlet requestCats = axios.get(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=d319c0c494ad5f2bdc26170edb6b9a1c&tags=cats&per_page=24&format=json&nojsoncallback=1`);\nlet requestDogs = axios.get(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=d319c0c494ad5f2bdc26170edb6b9a1c&tags=dogs&per_page=24&format=json&nojsoncallback=1`);\nlet requestComputers = axios.get(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=d319c0c494ad5f2bdc26170edb6b9a1c&tags=computers&per_page=24&format=json&nojsoncallback=1`);\n\nclass App extends Component {\n  \n  constructor() {\n    super();\n    this.state = {\n      photos: [],\n      cats: [],\n      dogs: [],\n      computers: [],\n      loading: true,\n    };\n  };\n  \n  //Function to mount the API request data.\n  componentDidMount() {\n    this.dataCall();\n    this.performSearch()\n  };\n\n\n  //Function to call the cats, dogs and computers data by default.\n  dataCall = () => {\n    axios.all([requestCats, requestDogs, requestComputers]).then(axios.spread((...responses) => {\n      this.setState({\n        cats: responses[0].data.photos.photo,\n        dogs: responses[1].data.photos.photo,\n        computers: responses[2].data.photos.photo,\n        loading: false\n      })\n    })).catch(err => {\n      console.log('Error fetching and parsing data', err);\n    });\n  };\n\n  //Function to call the API data that match with the query.\n  performSearch = (query = 'pc') => {\n    axios.get(`${url}${query}&per_page=24&format=json&nojsoncallback=1`)\n      .then(response => {\n        this.setState({\n          photos: response.data.photos.photo,\n          loading: false\n        })\n      })\n      .catch(error => {\n        console.log('Error fetching and parsing data', error);\n      });\n  };\n\n  handleChange = () => {\n    this.setState ({\n      loading: true\n    })\n  };\n\n  render() {\n\n    return (\n      <div className=\"main-content\">\n      {\n        // If loading is true the photos doesn't display.\n        (this.state.loading)\n        ? <p>Loading...</p>\n        : \n        <BrowserRouter>\n\n          {/**Form submit */}\n          <SearchForm submit={this.performSearch} change={this.handleChange}/>\n          \n          {/**Routes */}\n          <Switch>\n\n            <Route exact path=\"/\" render={ () => <Photo data={this.state.photos}/> }/>\n            <Route exact path=\"/cats\" render={ () => <Photo data={this.state.cats} results='cats'/> }/>\n            <Route exact path=\"/dogs\" render={ () => <Photo data={this.state.dogs} results='dogs'/> }/>\n            <Route exact path=\"/computers\" render={ () => <Photo data={this.state.computers} results='computers'/> }/>\n\n            {/**Search request Route */}\n            <Route path=\"/search/:query\" render={ () => <SearchRequest data={this.state} onSearch={query => this.performSearch(query)}/> }/>\n\n            {/**Error Route */}\n            <Route component={Error} />\n\n          </Switch>\n            \n        </BrowserRouter>  \n      }\n    </div>\n    );\n  };\n};\n\nexport default App;","const apiKey = 'c53b08f07a3c651870499ff67018bc19';\r\nexport default apiKey;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './Components/App';\nimport './index.css'\n\nReactDOM.render(\n    <App />,  \n    document.getElementById('root')\n);\n"],"sourceRoot":""}